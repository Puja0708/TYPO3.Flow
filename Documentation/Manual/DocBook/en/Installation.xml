<?xml version="1.0" encoding="UTF-8"?>
<chapter version="5.0" xmlns="http://docbook.org/ns/docbook"
         xmlns:ns6="http://www.w3.org/1999/xlink"
         xmlns:ns5="http://www.w3.org/2000/svg"
         xmlns:ns4="http://www.w3.org/1999/xhtml"
         xmlns:ns3="http://www.w3.org/1998/Math/MathML"
         xmlns:ns="http://docbook.org/ns/docbook">
  <title>Installation</title>

  <para>FLOW3 is based on the newest technologies of tomorrow like for example
  namespaces. These technologies aren't available in the stable PHP 5.2
  releases at the moment, but are implemented in PHP 5.3. It has no final
  release until now, so operating system distributors do not provide PHP 5.3
  packages. You can find instructions to install the newest release candidate
  of PHP 5.3 for widely used operating systems in the appendixes.</para>

  <section>
    <title>Requirements</title>

    <para>The following minimum requirements are operating system independent.
    Developers told about working instances on Debian Linux, MacOS, Windows XP
    and Windows Vista.</para>

    <itemizedlist>
      <listitem>
        <para>PHP 5.3 RC2 or newer (but not PHP 6)</para>
      </listitem>

      <listitem>
        <para>PHP modules: mbstring, pdo, sqlite</para>
      </listitem>

      <listitem>
        <para>PHP configuration: magic_quotes_gpc = off</para>
      </listitem>

      <listitem>
        <para>Apache modules: mod_rewrite</para>
      </listitem>

      <listitem>
        <para>Apache configuration: AllowOverride FileInfo</para>
      </listitem>
    </itemizedlist>

    <para>(Other webservers (f.e. IIS) could work, but have not been tested
    until now)</para>
  </section>

  <section>
    <title>Installion of FLOW3</title>

    <para>These steps require the server requirements to be set up.
    Instruction on how to do that can be found in the appendixes.</para>

    <procedure>
      <step>
        <para>TODO: Download the FLOW3 distribution from <link
        linkend="???">http://flow3.typo3.org/download/</link> </para>
      </step>

      <step>
        <para>TODO: Unzip / un-phar it to the document root of the webserver
        (often "htdocs")</para>
      </step>

      <step>
        <para>It is highly recommended to change the document root of the
        webserver to the "FLOW3/Public" subfolder of the FLOW3
        distribution</para>
      </step>

      <step>
        <para>On Unix like operating systems the webserver needs write
        permissions for some subfolders. The FLOW3 distribution provides a
        helper script, which sets the permissions. Change to the top level
        folder of the FLOW3 distribution, where you can find the script
        <filename>setfilepermissions.sh</filename>. Execute this script
        providing the webserver user and group as parameters. On Debian Linux
        (lenny) the commando would look like this:</para>

        <para><command>./setfilepermissions.sh www-data
        www-data</command></para>
      </step>
    </procedure>

    <para>Now you can check if FLOW3 works by pointing your browser to
    <emphasis>http://<replaceable>localhost/</replaceable></emphasis>
    (localhost will be used as servername in the following instructions,
    change it if you are working on a remote system). If everything works you
    should see the default view of the MVC framework. It may take some time on
    the first call, because FLOW3 needs to initialize itself and to create
    caching data.</para>

    <para><note>
        <para>The persistence framework / content repository stores its data
        in a already set up sqlite database by default. It can be changed to a
        real database like for example MySQL. It requires some configuration
        which will be covered here later.</para>
      </note>TODO: testing plus typo3cr-uri</para>

    <para>TODO: Tip: Configuration of the cache to C:\t\1\ on windows because
    of the long filenames</para>

    <para>TODO: Tip: If you see the XAMPP-default-page after calling the uri,
    you might forgot to add the port-number to the uri.</para>
  </section>

  <section>
    <title>Setup Eclipse PDT for PHP 5.3</title>

    <para>PHP 5.3 introduced the support of namespaces. This is a completly
    new syntax in PHP which is not yet supported by (most?) editors. Even the
    stable version of Eclipse PDT doesn't support namespaces syntax. So you
    have to install some nightly build, if you don't want to see all those red
    syntax-error-symbols in your php-files.</para>

    <para>TODO: windows - mac - ubuntu?</para>
  </section>
</chapter>
