#                                                                          #
# Object Configuration for the FLOW3 Framework                             #
#                                                                          #
# This file contains the default object configuration for the FLOW3        #
# Framework. Because it is loaded at a very early stage during ini-        #
# tialization, this configuration cannot be overriden by other con-        #
# figuration files.                                                        #
#                                                                          #

# @package FLOW3
# @version $Id$

#                                                                          #
# AOP                                                                      #
#                                                                          #

F3\FLOW3\AOP\Framework:
  autowiring: off
  properties:
    reflectionService: object: F3\FLOW3\Reflection\Service
    pointcutExpressionParser: object: F3\FLOW3\AOP\Pointcut\PointcutExpressionParser
    proxyClassCodesCache:
      object:
        factoryClassName: F3\FLOW3\Cache\Manager
        factoryMethodName: getCache
        arguments:
          1: value: FLOW3_AOP_ProxyClassCodes
    targetClassInformationCache:
      object:
        factoryClassName: F3\FLOW3\Cache\Manager
        factoryMethodName: getCache
        arguments:
          1: value: FLOW3_AOP_TargetClassInformation
    proxyBuildInformationCache:
      object:
        factoryClassName: F3\FLOW3\Cache\Manager
        factoryMethodName: getCache
        arguments:
          1: value: FLOW3_AOP_ProxyBuildInformation
    configurationManager: object: F3\FLOW3\Configuration\Manager
    proxyClassBuilder: object: F3\FLOW3\AOP\Builder\ProxyClassBuilder
    systemLogger: object: F3\FLOW3\Log\SystemLoggerInterface
F3\FLOW3\AOP\Builder\AdvicedConstructorInterceptorBuilder: []
F3\FLOW3\AOP\Builder\AdvicedMethodInterceptorBuilder: []
F3\FLOW3\AOP\Advisor:
  scope: prototype
F3\FLOW3\AOP\Advice\AfterReturningAdvice:
  scope: prototype
F3\FLOW3\AOP\Advice\AfterThrowingAdvice:
  scope: prototype
F3\FLOW3\AOP\Advice\AfterAdvice:
  scope: prototype
F3\FLOW3\AOP\Advice\AroundAdvice:
  scope: prototype
F3\FLOW3\AOP\Advice\BeforeAdvice:
  scope: prototype
F3\FLOW3\AOP\Builder\EmptyConstructorInterceptorBuilder: []
F3\FLOW3\AOP\Builder\EmptyMethodInterceptorBuilder: []
F3\FLOW3\AOP\Introduction:
  scope: prototype
F3\FLOW3\AOP\Builder\ProxyClassBuilder: []
F3\FLOW3\AOP\Pointcut\Pointcut:
  className: F3\FLOW3\AOP\Pointcut\Pointcut
  scope: prototype
F3\FLOW3\AOP\Pointcut\PointcutClassNameFilter:
  scope: prototype
F3\FLOW3\AOP\Pointcut\PointcutClassTaggedWithFilter:
  scope: prototype
F3\FLOW3\AOP\Pointcut\PointcutClassTypeFilter:
  scope: prototype
F3\FLOW3\AOP\Pointcut\PointcutExpressionParser: []
F3\FLOW3\AOP\Pointcut\PointcutFilter:
  scope: prototype
F3\FLOW3\AOP\Pointcut\PointcutFilterComposite:
  scope: prototype
F3\FLOW3\AOP\Pointcut\PointcutMethodNameFilter:
  scope: prototype
F3\FLOW3\AOP\Pointcut\PointcutMethodTaggedWithFilter:
  scope: prototype
F3\FLOW3\AOP\Pointcut\PointcutSettingFilter:
  scope: prototype

#                                                                          #
# Cache                                                                    #
#                                                                          #

F3\FLOW3\Cache\Manager:
  autowiring: off
  properties: 
    cacheFactory: object: F3\FLOW3\Cache\Factory
    systemLogger: object: F3\FLOW3\Log\SystemLoggerInterface
F3\FLOW3\Cache\Factory:
  autowiring: off
  arguments:
    1: object: F3\FLOW3\Object\ManagerInterface
    2: object: F3\FLOW3\Object\FactoryInterface
F3\FLOW3\Cache\Backend\FileBackend:
  autowiring: off
  scope: prototype
  properties:
    environment: object: F3\FLOW3\Utility\Environment
    signalDispatcher: object: F3\FLOW3\SignalSlot\Dispatcher
    systemLogger: object: F3\FLOW3\Log\SystemLoggerInterface
F3\FLOW3\Cache\Backend\MemcachedBackend:
  autowiring: off
  scope: prototype
F3\FLOW3\Cache\Backend\APCBackend:
  autowiring: off
  scope: prototype
F3\FLOW3\Cache\Backend\NullBackend:
  autowiring: off
  scope: prototype
F3\FLOW3\Cache\Frontend\VariableFrontend:
  autowiring: off
  scope: prototype
F3\FLOW3\Cache\Frontend\StringFrontend:
  autowiring: off
  scope: prototype
F3\FLOW3\Cache\Backend\TransientMemoryBackend:
  autowiring: off
  scope: prototype

#                                                                          #
# Configuration                                                            #
#                                                                          #

F3\FLOW3\Configuration\Manager: []

#                                                                          #
# Log                                                                      #
#                                                                          #

F3\FLOW3\Log\LoggerFactory: []
F3\FLOW3\Log\Logger:
  autowiring: off
  scope: prototype
F3\FLOW3\Log\Backend\FileBackend:
  autowiring: off
  scope: prototype
F3\FLOW3\Log\Backend\NullBackend:
  autowiring: off
  scope: prototype
F3\FLOW3\Log\SystemLoggerInterface:
  autowiring: off
  factoryClassName: F3\FLOW3\Log\LoggerFactory
  className: F3\FLOW3\Log\Logger
  arguments:
    1: value: FLOW3_System
    2: value: F3\FLOW3\Log\Logger
    3: setting: FLOW3.log.systemLogger.backend
    4: setting: FLOW3.log.systemLogger.backendOptions

#                                                                          #
# Monitor                                                                  #
#                                                                          #

F3\FLOW3\Monitor\ChangeDetectionStrategy\ModificationTime:
  autowiring: off
  properties:
    cache:
      object:
        factoryClassName: F3\FLOW3\Cache\Manager
        factoryMethodName: getCache
        arguments:
          1: value: FLOW3_Monitor_ChangeDetectionStrategy_ModificationTime

F3\FLOW3\Monitor\FileMonitor:
  scope: prototype
  autowiring: off
  properties:
    changeDetectionStrategy: object: FLOW3.monitor.fileMonitor.changeDetectionStrategy
    signalSlotDispatcher: object: F3\FLOW3\SignalSlot\Dispatcher
    systemLogger: object: F3\FLOW3\Log\SystemLoggerInterface

#                                                                          #
# MVC                                                                      #
#                                                                          #

F3\FLOW3\MVC\Web\Routing\Aspect\RouterCachingAspect:
  properties:
    findMatchResultsCache:
      object:
        factoryClassName: F3\FLOW3\Cache\Manager
        factoryMethodName: getCache
        arguments:
          1: value: FLOW3_MVC_Web_Routing_FindMatchResults
    resolveCache:
      object:
        factoryClassName: F3\FLOW3\Cache\Manager
        factoryMethodName: getCache
        arguments:
          1: value: FLOW3_MVC_Web_Routing_Resolve

#                                                                          #
# Package                                                                  #
#                                                                          #

F3\FLOW3\Package\ManagerInterface:
  autowiring: off
  className: F3\FLOW3\Package\Manager
  properties:
    objectFactory: object: F3\FLOW3\Object\FactoryInterface
    packageMetaDataWriter: object: F3\FLOW3\Package\MetaData\WriterInterface

F3\FLOW3\Package\Controller\ManagerController: []

F3\FLOW3\Package\MetaData:
  scope: prototype

F3\FLOW3\Package\Package:
  autowiring: off
  scope: prototype
  properties:
    objectFactory: object: F3\FLOW3\Object\FactoryInterface
    metaDataReader: object: F3\FLOW3\Package\MetaData\ReaderInterface

F3\FLOW3\Package\Documentation:
  scope: prototype

F3\FLOW3\Package\Documentation\Format:
  scope: prototype

F3\FLOW3\Package\MetaData\ReaderInterface:
  className: F3\FLOW3\Package\MetaData\XMLReader

F3\FLOW3\Package\MetaData\WriterInterface:
  autowiring: off
  className: F3\FLOW3\Package\MetaData\XMLWriter

#                                                                          #
# Reflection                                                               #
#                                                                          #

F3\FLOW3\Reflection\Service:
  autowiring: off
  properties:
    settings: setting: FLOW3

#                                                                          #
# Resource                                                                 #
#                                                                          #

F3\FLOW3\Resource\ClassLoader: []
F3\FLOW3\Resource\Publisher: []
F3\FLOW3\Resource\Manager: []

#                                                                          #
# Security                                                                 #
#                                                                          #

F3\FLOW3\Security\ACL\PolicyService:
  properties:
    cache:
      object:
        factoryClassName: F3\FLOW3\Cache\Manager
        factoryMethodName: getCache
        arguments:
          1: value: FLOW3_Security_Policy

F3\FLOW3\Security\Cryptography\RSAWalletServiceInterface:
  properties:
    keystoreCache:
      object:
        factoryClassName: F3\FLOW3\Cache\Manager
        factoryMethodName: getCache
        arguments:
          1: value: FLOW3_Security_Cryptography_RSAWallet

#                                                                          #
# Session                                                                  #
#                                                                          #

F3\FLOW3\Session\SessionInterface:
  className: F3\FLOW3\Session\PHPSession

#                                                                          #
# SignalSlot                                                               #
#                                                                          #

F3\FLOW3\SignalSlot\Dispatcher:
  autowiring: off
  properties:
    systemLogger: object: F3\FLOW3\Log\SystemLoggerInterface

#                                                                          #
# Utility                                                                  #
#                                                                          #

F3\FLOW3\Utility\Environment:
  autowiring: off
  properties:
    temporaryDirectoryBase: setting: FLOW3.utility.environment.temporaryDirectoryBase
